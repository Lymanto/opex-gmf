<div class="flex flex-col gap-1">
  <label
    [for]="id"
    class="flex flex-row items-center gap-0.5 text-p-md text-neutral-100"
    >{{ label }}
    <span class="text-tertiary-tx-red text-p-md" *ngIf="required">*</span>
    <img
      src="assets/images/icons/ic-ask.svg"
      *ngIf="isAsk"
      class="w-4 h-4"
      alt="icon"
    />
  </label>
  <ng-container *ngIf="type === 'normal'">
    <input
      [name]="id"
      [id]="id"
      class="border border-neutral-40 p-3 rounded-2xl text-p-md text-neutral-80 appearance-none w-full disabled:bg-neutral-20 read-only:bg-neutral-20"
      type="text"
      [placeholder]="placeholder"
      [readonly]="isReadOnly"
      [disabled]="isDisabled"
      [required]="required"
      [value]="value"
      (change)="getValue($event)"
    />
  </ng-container>
  <ng-container *ngIf="type === 'normalControl'">
    <input
      [name]="id"
      [id]="id"
      class="border border-neutral-40 p-3 rounded-2xl text-p-md text-neutral-80 appearance-none w-full disabled:bg-neutral-20 read-only:bg-neutral-20"
      type="text"
      [placeholder]="placeholder"
      [readonly]="isReadOnly"
      [disabled]="isDisabled"
      [required]="required"
      [value]="value"
      (change)="getValue($event)"
      [(ngModel)]="text"
      (blur)="touched($event)"
    />
  </ng-container>
  <ng-container *ngIf="type === 'currency'">
    <div class="relative">
      <input
        [name]="id"
        [id]="id"
        class="border border-neutral-40 p-3 rounded-2xl text-p-md text-neutral-80 appearance-none w-full disabled:bg-neutral-20 read-only:bg-neutral-20"
        type="text"
        [placeholder]="placeholder"
        [readonly]="isReadOnly"
        [disabled]="isDisabled"
        [required]="required"
        [value]="value"
        [(ngModel)]="text"
        (blur)="touched($event)"
      />
      <div class="absolute right-3 top-1/2 -translate-y-1/2">USD</div>
    </div>
  </ng-container>

  <ng-container *ngIf="type === 'password'">
    <div class="relative">
      <input
        [name]="id"
        [id]="id"
        class="!border border-neutral-40 p-3 rounded-2xl text-p-md text-neutral-80 w-full disabled:bg-neutral-20 read-only:bg-neutral-20"
        type="password"
        [placeholder]="placeholder"
        [readonly]="isReadOnly"
        [disabled]="isDisabled"
        [required]="required"
        [value]="value"
        [(ngModel)]="text"
        (blur)="touched($event)"
      />
      <div class="absolute right-3 top-1/2 -translate-y-1/2">
        <img src="assets/images/icons/ic-eye-blue.svg" alt="ic eye" />
      </div>
    </div>
  </ng-container>

  <ng-container *ngIf="type === 'amount-submission'">
    <div class="relative">
      <input
        [name]="id"
        [id]="id"
        class="border border-neutral-40 p-3 pr-[100px] rounded-2xl text-p-md text-neutral-80 w-full disabled:bg-neutral-20 read-only:bg-neutral-20"
        [ngClass]="{
          'border-tertiary-tx-red': isError,
        }"
        type="text"
        [placeholder]="placeholder"
        [readonly]="isReadOnly"
        [disabled]="isDisabled"
        [value]="value"
        [required]="required"
        (change)="onChangeAmountSubmission($event)"
        [(ngModel)]="text"
        (blur)="touched($event)"
      />
      <div class="absolute top-1/2 right-3 -translate-y-1/2">
        <select
          class="pl-1 w-[54px] border-0 border-l border-l-primary-border text-p-md text-neutral-100 appearance-none !bg-none !pr-0"
          #currentPair
          (change)="onChangePair()"
        >
          <option value="USD" selected>USD</option>
          <option value="IDR">IDR</option>
        </select>
        <img
          src="assets/images/icons/ic-arrow-down.svg"
          class="w-5 h-5 absolute right-0.5 top-1/2 -translate-y-1/2"
          alt="arrow down"
        />
      </div>
    </div>
  </ng-container>
  <p *ngIf="isError" class="text-p-sm text-tertiary-tx-red">
    {{ errorMessage }}
  </p>
  <p *ngIf="isRemaining" class="text-p-sm text-tertiary-tx-red">
    {{ remainingMessage }}
  </p>
</div>
